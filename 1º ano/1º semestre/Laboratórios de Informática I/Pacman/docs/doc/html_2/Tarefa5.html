<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa5</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Joana Branco &lt;joanabranco.23@gmail.com&gt;;<br />Rafael Ferreira &lt;a97642@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este &#233; o m&#243;dulo correspondente &#224; Tarefa 5 do trabalho que, atrav&#233;s de diversas fun&#231;&#245;es,
permite a movimenta&#231;&#227;o dos fantasmas no jogo.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:chaseScatter">chaseScatter</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; ([<a href="Types.html#t:Player" title="Types">Player</a>], [<a href="Types.html#t:Player" title="Types">Player</a>]) -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:metC">metC</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int</li><li class="src short"><a href="#v:methodManhattan">methodManhattan</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Int</li><li class="src short"><a href="#v:minDist-39-">minDist'</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int</li><li class="src short"><a href="#v:funAux">funAux</a> :: Int -&gt; ([<a href="Types.html#t:Player" title="Types">Player</a>], [<a href="Types.html#t:Player" title="Types">Player</a>]) -&gt; Int</li><li class="src short"><a href="#v:findById">findById</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:removeById">removeById</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:goDead">goDead</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:goAlive">goAlive</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playOtherwise-39-">playOtherwise'</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:main2">main2</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:turnGhost">turnGhost</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:orientation-39-">orientation'</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:changeOrientation">changeOrientation</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:ghostPlay" class="selflink">#</a></p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Nesta tarefa tinha que se desenvolver as jogadas e o comportamento dos fantasmas no jogo. 
A tarefa 2 &#233; aqui usada diretamente como aux&#237;lio pois &#233; a que retrata as jogadas poss&#237;veis neste projeto.</p><h1>Objetivos</h1><p>S&#227;o diversos os objetivos a alcan&#231;ar tais que, a fun&#231;&#227;o principal a implementar recebe o estado do jogo e 
devolve as v&#225;rias jogadas dos fantasmas ativos no jogo. Estas jogadas devem ser aplicadas de maneira a que seja
aplicada a melhor estrat&#233;gia para atuar perante o seu &quot;advers&#225;rio&quot; Pacman. 
Tem que se ter em considera&#231;&#227;o ao modo (Alive ou Dead) do fantasma pois perante isto, o mesmo deve ter respostas
diferentes, se n&#227;o mesmo opostas.
Assim, as estrat&#233;gias do fantasma baseiam-se em:</p><ul><li>(modo Alive) ir atr&#225;s do Pacman (atrav&#233;s das suas coordenadas) e posicionar-se quatro espa&#231;os &#224; frente do mesmo (dependendo da sua orienta&#231;&#227;o);</li><li>(modo Dead) fugir do Pacman e sempre que se encontra com uma parede move-se para a sua direita, no sentido dos ponteiros de rel&#243;gio.</li></ul><h1>Discuss&#227;o e Conclus&#227;o</h1><p>O procedimento usado no desenvolvimento desta tarefa passou pela integra&#231;&#227;o de algumas fun&#231;&#245;es que foram necess&#225;rias na tarefa 2 (da 1&#170; 
fase) e, com estas, incorporar o potencial comportamento dos Ghost. Para isto, era necess&#225;rio o estado atual do jogo que, com as devidas
altera&#231;&#245;es, apresentar-se-ia uma lista de jogadas sendo estas a melhor alternativa. Tendo em conta o modo do Pacman (Normal ou Mega) e o 
modo do Ghost (Alive ou Dead), a fun&#231;&#227;o principal passava pelo planeamento da fuga do Ghost ou, ent&#227;o, pela corrida atr&#225;s do Pacman. 
Atrav&#233;s do m&#233;todo de Manhattan consegui-se calcular a dist&#226;ncia entre os jogadores advers&#225;rios e assim, come&#231;aria o processo de persegui&#231;&#227;o.</p><p>Por fim, consideramos que demos o nosso melhor para atingir o objetivo final e, esta tarefa permitiu perceber ainda melhor todo o conceito
de circula&#231;&#227;o dos jogadores, tanto Pacman como Ghost, e o poss&#237;vel manipulamento no jogo.</p><ul><li><strong>Fun&#231;&#227;o principal da Tarefa 5</strong></li></ul><p>Dado um State devolve uma lista de jogadas a efetuar pelos Ghost</p></div></div><div class="top"><p class="src"><a id="v:chaseScatter" class="def">chaseScatter</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; ([<a href="Types.html#t:Player" title="Types">Player</a>], [<a href="Types.html#t:Player" title="Types">Player</a>]) -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:chaseScatter" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao que dado um State e um tuplo com listas de Pacman e Ghost, respetivamente, devolve uma lista de Play</p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que dado um State um ID devolve uma play</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que dado um State um ID devolve uma play</p></div></div><div class="top"><p class="src"><a id="v:metC" class="def">metC</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int <a href="#v:metC" class="selflink">#</a></p><div class="doc"><p>Dados dois Players devolve o resultado de aplicar a fun&#231;&#227;o methoDManhattan</p></div></div><div class="top"><p class="src"><a id="v:methodManhattan" class="def">methodManhattan</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Int <a href="#v:methodManhattan" class="selflink">#</a></p><div class="doc"><p>Dadas duas Coords devolve um inteiro (resultado da m&#233;trica de Manhattan entre as duas Coords)</p></div></div><div class="top"><p class="src"><a id="v:minDist-39-" class="def">minDist'</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int <a href="#v:minDist-39-" class="selflink">#</a></p><div class="doc"><p>Dado um ID e a lista de Players esta fun&#231;&#227;o devolve a dist&#226;ncia do jogador que se encontra mais pr&#243;ximo do Bot</p></div></div><div class="top"><p class="src"><a id="v:funAux" class="def">funAux</a> :: Int -&gt; ([<a href="Types.html#t:Player" title="Types">Player</a>], [<a href="Types.html#t:Player" title="Types">Player</a>]) -&gt; Int <a href="#v:funAux" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que dado um inteiro e um tuplo com listas de Pacman e Ghost, respetivamente, devolve um inteiro</p></div></div><div class="top"><p class="src"><a id="v:findById" class="def">findById</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:findById" class="selflink">#</a></p><div class="doc"><p>Dado um ID e uma lista de Players devolve o Player com esse ID</p></div></div><div class="top"><p class="src"><a id="v:removeById" class="def">removeById</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:removeById" class="selflink">#</a></p><div class="doc"><p>Dado um ID e uma lista de Players devolve a lista sem o Player com o ID correspondente ao dado</p></div></div><div class="top"><p class="src"><a id="v:play" class="def">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:play" class="selflink">#</a></p><div class="doc"><p>Dado um Play, um Maze e um Player, se a orienta&#231;&#227;o do Player coincide com a do Play efetua uma jogada, caso contr&#225;rio, muda a orienta&#231;&#227;o para a do Play</p></div></div><div class="top"><p class="src"><a id="v:goDead" class="def">goDead</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:goDead" class="selflink">#</a></p><div class="doc"><p>Dado um Maze e um Player devolve o Player atualizado</p></div></div><div class="top"><p class="src"><a id="v:goAlive" class="def">goAlive</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:goAlive" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que dado um Maze e um player devolve esse Player atualizado</p></div></div><div class="top"><p class="src"><a id="v:playOtherwise-39-" class="def">playOtherwise'</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playOtherwise-39-" class="selflink">#</a></p><div class="doc"><p>Dado um Maze e um Player devolve o Player j&#225; movido</p></div></div><div class="top"><p class="src"><a id="v:main2" class="def">main2</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:main2" class="selflink">#</a></p><div class="doc"><p>Dada uma lista de Players devolve uma lista de Players que resulta da aplica&#231;&#227;o de fun&#231;&#245;es &#224; lista inicial</p></div></div><div class="top"><p class="src"><a id="v:turnGhost" class="def">turnGhost</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:turnGhost" class="selflink">#</a></p><div class="doc"><p>Dado um Player &#233; devolvido o Player com a dire&#231;&#227;o oposta &#224; inicial</p></div></div><div class="top"><p class="src"><a id="v:orientation-39-" class="def">orientation'</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:orientation-39-" class="selflink">#</a></p><div class="doc"><p>Dado um Player d&#225; a sua Orienta&#231;&#227;o</p></div></div><div class="top"><p class="src"><a id="v:changeOrientation" class="def">changeOrientation</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:changeOrientation" class="selflink">#</a></p><div class="doc"><p>Dado uma Orientation e um Player d&#225; ao Player a nova Orientation</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>